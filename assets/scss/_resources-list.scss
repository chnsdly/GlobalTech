/* =============== Blog: main list + flat sidebar (title-only underline) =============== */

/* 本模块局部变量：侧栏宽度、热门缩略图宽度 */
.blog-classic { 
  --sidebar: #{space(40)};        /* 320px = 40 * 0.5rem */
  --thumb-w: #{space(10.5)};      /* 84px = 10.5 * 0.5rem */
}

.blog-classic .layout {
  display: grid; gap: space(4);
  grid-template-columns: minmax(0,1fr);
  @include mq-up(lg){ grid-template-columns: minmax(0,1fr) var(--sidebar); }
}

/* 主列卡片 */
.post-card { /* 去掉多余 padding-bottom */ }
.post-card .sep { 
  border: 0; height: var(--border-w); 
  background: var(--border); margin: space(3) 0; 
}

.post-media { display: block; border-radius: var(--radius); overflow: hidden; box-shadow: var(--shadow); }
.post-media img, .post-media picture, .post-media .ph-media {
  width: 100%; display: block; aspect-ratio: 16/9; object-fit: cover;
}
.post-media .ph-media { background: color-mix(in oklch, var(--surface), black 6%); }

.post-title { margin: space(2) 0 space(1); font-size: var(--fs-2); line-height: 1.3; }
/* 如果希望标题用主色，可移除下一行覆盖，使用全站 a 样式 */
.post-title a { color: var(--on-surface); text-decoration: none; }
.post-title a:hover { color: var(--brand); text-decoration: underline; }

.post-meta {
  display: flex; flex-wrap: wrap; gap: space(2); margin: 0 0 space(2); padding: 0;
  list-style: none; color: var(--muted); font-size: var(--fs-1);
}

/* 如无需要小色块图标，可整段删除 START */
.meta-item { position: relative; padding-left: #{space(2.5)}; }
.meta-item::before {
  content: ""; position: absolute; left: 0; top: .2em; width: .9em; height: .9em;
  border-radius: calc(var(--radius)/3); background: var(--border);
}
.meta-date::before   { background: color-mix(in oklch, var(--brand), black 10%); }
.meta-author::before { background: color-mix(in oklch, var(--brand), white 20%); }
.meta-cat::before    { background: color-mix(in oklch, var(--brand), white 40%); }
/* 如无需要小色块图标，可整段删除 END */

.meta-cat a { color: inherit; text-decoration: none; }
.meta-cat a:hover { color: var(--brand); text-decoration: underline; }

.post-excerpt p { margin: 0 0 space(2); color: var(--on-surface); }
.post-cta { margin: 0 0 space(1); }
.btn { @extend .button; }
.btn.readmore {
  background: var(--brand); color: var(--on-brand); border-color: transparent;
  padding: space(1.5) space(3);
  /* 不再覆写 min-block-size，保持 .button 的 44px 可达高度 */
}

/* 侧栏：扁平，仅标题下横线 */
.col-side { position: relative; @include mq-up(lg){ position: sticky; top: 80px; align-self: start; } }
.col-side.is-flat .widget { background: transparent; border: 0; border-radius: 0; box-shadow: none; padding: 0; }
.col-side.is-flat .widget + .widget { margin-top: space(4); }
.col-side.is-flat .widget-title {
  margin: 0 0 space(1);
  padding-bottom: space(1);
  border-bottom: var(--border-w) solid var(--border);
  font-weight: 700;
}

/* Popular（热门） */
.popular-list { list-style: none; margin: 0; padding: 0; display: grid; gap: space(1.25); }
.popular-link {
  display: grid; grid-template-columns: var(--thumb-w) minmax(0,1fr); gap: space(1);
  align-items: center; text-decoration: none; color: inherit;
}
.popular-link:hover .t { text-decoration: underline; }
.thumb { width: var(--thumb-w); aspect-ratio: 3/2; border-radius: calc(var(--radius)/2); overflow: hidden; background: var(--card); }
.thumb picture, .thumb img { width: 100%; height: 100%; display: block; object-fit: cover; }
.thumb .ph { width: 100%; height: 100%; background: color-mix(in oklch, var(--surface), black 6%); }
.txt .s { color: var(--muted); font-size: var(--fs-1); display: -webkit-box; -webkit-line-clamp: 1; -webkit-box-orient: vertical; overflow: hidden; }

/* 分类 */
.cat-list { list-style: none; margin: 0; padding: 0; display: grid; gap: #{space(.75)}; } /* 6px */
.cat-list li { display: flex; justify-content: space-between; align-items: center; gap: space(1); }
.cat-list a { color: inherit; text-decoration: none; } /* 想要主色则删掉这行 */
.cat-list a:hover { color: var(--brand); text-decoration: underline; }
.cat-list .cnt { color: var(--muted); }

/* 标签 */
.tag-cloud { display: flex; flex-wrap: wrap; gap: space(1); margin-top: space(1); }
.chip {
  display: inline-flex; align-items: center;
  padding: calc(var(--space)*0.75) calc(var(--space)*1.25);
  border: var(--border-w) solid var(--border);
  border-radius: var(--radius-pill);
  background: transparent; color: var(--on-surface);
}
.chip:hover { background: color-mix(in oklch, var(--surface), white 6%); }

/* 分页 */
.pager { display: grid; grid-template-columns: auto 1fr auto; align-items: center; gap: space(2); padding-block: space(2) space(4); }
.pager-prev, .pager-next, .pager-num { @extend .button; }  /* 统一 44px 可达高度 */
.pager .disabled { opacity: .5; pointer-events: none; }
.pager-list { display: flex; justify-content: center; gap: space(1); list-style: none; margin: 0; padding: 0; }
/* 删除对 .pager-num 的 36px 覆盖，保持按钮规范尺寸 */
.pager-num.current { background: var(--brand); color: var(--on-brand); border-color: transparent; }

/* 多行省略 */
.clamp1, .clamp2, .clamp3 { display: -webkit-box; -webkit-box-orient: vertical; overflow: hidden; }
.clamp1 { -webkit-line-clamp: 1; }
.clamp2 { -webkit-line-clamp: 2; }
.clamp3 { -webkit-line-clamp: 3; }

/* 焦点可达 */
a:focus-visible, .btn:focus-visible, .chip:focus-visible, .pager a:focus-visible { @include focus-ring(3px); }
