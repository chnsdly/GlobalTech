/* === lead-form.css — 简洁、优雅、Token 友好 === */
.lead-form{
  /* 优先使用你站点的设计 Token，提供兜底值 */
  --fg: var(--text, #111);
  --bg: var(--surface, #fff);
  --muted: var(--muted, #6b7280);
  --accent: var(--brand, #1f63a3);
  --on-accent: var(--on-brand, #fff);
  --radius: var(--radius, .75rem);
  --gap: clamp(.75rem, 2vw, 1rem);
  --bd: color-mix(in oklab, var(--fg) 12%, transparent);
  --bd-focus: color-mix(in oklab, var(--accent) 60%, white);
  --danger: var(--danger, #d14343);

  display: grid;
  grid-template-columns: 1fr;
  gap: var(--gap);
  max-width: 720px;
  margin-inline: auto;
  color: var(--fg);
  background: transparent;
}

.lead-form label{
  display: flex;
  flex-direction: column;   /* 文本在上，输入在下 */
  gap: .375rem;
  font-size: .95rem;
}

.lead-form :is(input[type="text"], input[type="email"], input:not([type]), textarea){
  appearance: none;
  border: 1px solid var(--bd);
  background: var(--bg);
  color: var(--fg);
  border-radius: var(--radius);
  padding: .65rem .8rem;
  line-height: 1.45;
  min-height: 2.5rem;
  transition: border-color .15s ease, box-shadow .15s ease, background-color .2s ease;
  width: 100%;
}

.lead-form textarea{ resize: vertical; }

.lead-form :is(input, textarea)::placeholder{
  color: color-mix(in oklab, var(--fg) 45%, transparent);
}

.lead-form :is(input, textarea):focus{
  outline: none;
  border-color: var(--bd-focus);
  box-shadow: 0 0 0 .2rem color-mix(in oklab, var(--accent) 20%, transparent);
}

/* HTML5 校验的温和提示 */
.lead-form :is(input, textarea):invalid{
  border-color: color-mix(in oklab, var(--danger) 55%, white);
}

/* —— 勾选同意框：一行显示 —— */
.lead-form label.checkbox{
  display: inline-flex;     /* 关键：内联弹性布局，与正文同一行起始 */
  flex-direction: row;      /* 横向排布：复选框 + 文本 */
  align-items: center;      /* 垂直对齐 */
  gap: .6rem;               /* 复选框与文本间距 */
  line-height: 1.45;
  grid-column: 1 / -1;      /* 在网格中占整行 */
  flex-wrap: nowrap;        /* 不在首行就断开复选框与文本 */
}

/* 细节：去掉多余的上边距，避免视觉“掉线” */
.lead-form label.checkbox > input{
  margin: 0;
  inline-size: 1.1rem;
  block-size: 1.1rem;
  accent-color: var(--accent);
  flex: 0 0 auto;
}

/* Turnstile 与按钮占整行 */
.lead-form .cf-turnstile{ grid-column: 1 / -1; }

.lead-form button{
  grid-column: 1 / -1;
  justify-self: start;
  border: none;
  background: var(--accent);
  color: var(--on-accent);
  border-radius: var(--radius);
  padding: .7rem 1.1rem;
  font-weight: 600;
  line-height: 1;
  cursor: pointer;
  transition: transform .06s ease, filter .15s ease;
}
.lead-form button:hover{ filter: brightness(1.05); }
.lead-form button:active{ transform: translateY(1px); }
.lead-form button:disabled{ opacity: .6; cursor: not-allowed; }

/* 两列自适应：消息、同意框、Turnstile、按钮仍然整行 */
@media (min-width: 640px){
  .lead-form{ grid-template-columns: repeat(2, minmax(0,1fr)); }

  /* 让“Message”那一项跨两列（现代浏览器支持） */
  .lead-form label:has(textarea[name="message"]){ grid-column: 1 / -1; }

  /* 若需更强兼容性，在 HTML 给该行加 class="field-message" 并启用下一行 */
  /* .lead-form .field-message{ grid-column: 1 / -1; } */

  .lead-form label.checkbox,
  .lead-form .cf-turnstile,
  .lead-form button{ grid-column: 1 / -1; }
}

/* 降低动画偏好尊重 */
@media (prefers-reduced-motion: reduce){
  .lead-form *{ transition: none !important; }
}

/* 蜜罐字段隐藏（不占空间） */
.lead-form div[style*="display:none"]{ display: none !important; }

@media (max-width: 640px){
  .lead-form{
    /* 同时兼顾普通设备与 iOS 安全区 */
    padding-left:  max(env(safe-area-inset-left),  clamp(12px, 5vw, 24px));
    padding-right: max(env(safe-area-inset-right), clamp(12px, 5vw, 24px));
  }
}