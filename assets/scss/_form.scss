/* === lead-form — Token 原生版（不新建自定义变量） === */
.lead-form{
  display: grid;
  grid-template-columns: 1fr;
  gap: clamp(.75rem, 2vw, 1rem);
  max-width: 720px;
  margin-inline: auto;
  color: var(--text);
  box-sizing: border-box; /* 防止外层无内边距时被撑到边 */
}

.lead-form *{ min-width: 0; } /* 防止长内容把容器撑爆 */

.lead-form label{
  display: flex;
  flex-direction: column;   /* 文本在上，输入在下 */
  gap: .375rem;
  font-size: .95rem;
}

/* 输入与文本域 */
.lead-form :is(input[type="text"], input[type="email"], input:not([type]), textarea){
  appearance: none;
  border: var(-on-surface);
  background: var(--surface);
  color: var(--text);
  padding: .65rem .8rem;
  line-height: 1.45;
  min-height: 2.5rem;
  transition: border-color .15s ease, box-shadow .15s ease, background-color .2s ease;
  width: 100%;
}

.lead-form textarea{ resize: vertical; }

.lead-form :is(input, textarea)::placeholder{
  color: color-mix(in oklab, var(--text) 45%, transparent);
}

/* 聚焦态 */
.lead-form :is(input, textarea):focus{
  outline: none;
  border-color: color-mix(in oklab, var(--brand) 60%, white);
  box-shadow: 0 0 0 .2rem color-mix(in oklab, var(--brand) 20%, transparent);
  background: var(--surface);
}

/* —— 同意勾选：与文案保持一行 —— */
.lead-form label.checkbox{
  display: inline-flex;
  flex-direction: row;
  align-items: center;
  gap: .6rem;
  line-height: 1.45;
  grid-column: 1 / -1;
  flex-wrap: nowrap; /* 首行不拆开复选框与首个词 */
}
.lead-form label.checkbox > input{
  margin: 0;
  inline-size: 1.1rem;
  block-size: 1.1rem;
  accent-color: var(--brand);
  flex: 0 0 auto;
}

/* Turnstile 与按钮占整行 */
.lead-form .cf-turnstile{ grid-column: 1 / -1; }

/* 按钮 */
.lead-form button{
  grid-column: 1 / -1;
  justify-self: start;
  border: none;
  background: var(--brand);
  color: var(--on-brand);
  border-radius: var(--radius);
  padding: .7rem 1.1rem;
  font-weight: 600;
  line-height: 1;
  cursor: pointer;
  transition: transform .06s ease, filter .15s ease;
}
.lead-form button:hover{ filter: brightness(1.05); }
.lead-form button:active{ transform: translateY(1px); }
.lead-form button:disabled{ opacity: .6; cursor: not-allowed; }

/* —— 自适应两列 —— */
@media (min-width: 640px){
  .lead-form{ grid-template-columns: repeat(2, minmax(0,1fr)); }

  /* 让“Message”字段跨两列（现代浏览器） */
  .lead-form label:has(textarea[name="message"]){ grid-column: 1 / -1; }
  /* 兼容兜底：若需支持旧浏览器，请在 HTML 上给该行加 class="field-message" 并启用下一行 */
  /* .lead-form .field-message{ grid-column: 1 / -1; } */

  .lead-form label.checkbox,
  .lead-form .cf-turnstile,
  .lead-form button{ grid-column: 1 / -1; }
}

/* —— Mobile 左右安全间距（含 iOS 刘海），Sass 安全 —— */
@media (max-width: 640px){
  .lead-form{
    /* 基础留白 */
    padding-left:  clamp(12px, 5vw, 24px);
    padding-right: clamp(12px, 5vw, 24px);
    /* iOS 安全区叠加；在其他设备 env(...) 为 0，不影响 */
    padding-left:  calc(clamp(12px, 5vw, 24px) + env(safe-area-inset-left));
    padding-right: calc(clamp(12px, 5vw, 24px) + env(safe-area-inset-right));
  }
}

/* 降噪：降低动画偏好 */
@media (prefers-reduced-motion: reduce){
  .lead-form *{ transition: none !important; }
}

/* 蜜罐字段彻底隐藏（不占空间） */
.lead-form div[style*="display:none"]{ display: none !important; }
